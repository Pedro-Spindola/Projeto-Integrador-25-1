<div class="motorista-container">
    <header class="header">
      <img src="assets/logo.png" alt="eggGestor Logo" class="logo" />
      <h1>Gerenciamento de Motoristas</h1>
  
      <button *ngIf="!modoCadastro" class="menu-button" [routerLink]="['']">
        Menu
      </button>
    </header>
  
    <main class="main-content">
      <ng-container *ngIf="!modoCadastro; else cadastro">
        <h2>Lista de Motoristas</h2>
        <div class="grid">
          <div class="box" *ngFor="let m of motoristas">
            <div class="info">
              <p><strong>CPF:</strong> {{ m.cpf }}</p>
              <p><strong>Nome:</strong> {{ m.nome }}</p>
              <p><strong>Idade:</strong> {{ calcularIdade(m.dataNascimento) }} anos</p>
            </div>
            <button (click)="editar(m)">Editar</button>
          </div>
        </div>
        <button (click)="adicionar()">Adicionar novo motorista</button>
      </ng-container>
  
      <ng-template #cadastro>
        <h2>{{ motoristaEditando ? 'Editar Motorista' : 'Novo Motorista' }}</h2>
  
        <form (ngSubmit)="onSubmit()">
          <label>CPF:</label>
          <input
            [disabled]="!!motoristaEditando"
            [(ngModel)]="cpf"
            name="cpf"
            required
          />
  
          <label>Nome:</label>
          <input [(ngModel)]="nome" name="nome" required />
  
          <label>Data de Nascimento:</label>
          <input
            type="date"
            [(ngModel)]="dataNascimento"
            name="dataNascimento"
            required
          />
  
          <button type="submit" [disabled]="!cpf || !nome || !dataNascimento">
            Salvar
          </button>
          <button type="button" (click)="cancelar()">Cancelar</button>
          <button
            *ngIf="motoristaEditando"
            type="button"
            class="excluir"
            (click)="excluir(motoristaEditando.cpf)"
          >
            Excluir
          </button>
        </form>
      </ng-template>
    </main>
  
    <app-footer />
  </div>
  